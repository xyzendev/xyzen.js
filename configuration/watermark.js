(function(_0xda010a,_0x48fba8){const _0x36ac89=_0x4f7b,_0x217b30=_0xda010a();while(!![]){try{const _0x1ff1ad=parseInt(_0x36ac89(0x1e8))/0x1*(parseInt(_0x36ac89(0x1ee))/0x2)+-parseInt(_0x36ac89(0x1d6))/0x3+-parseInt(_0x36ac89(0x1e1))/0x4+-parseInt(_0x36ac89(0x201))/0x5+-parseInt(_0x36ac89(0x1f4))/0x6+-parseInt(_0x36ac89(0x1e2))/0x7*(-parseInt(_0x36ac89(0x1db))/0x8)+-parseInt(_0x36ac89(0x1e4))/0x9*(-parseInt(_0x36ac89(0x1d5))/0xa);if(_0x1ff1ad===_0x48fba8)break;else _0x217b30['push'](_0x217b30['shift']());}catch(_0x292af9){_0x217b30['push'](_0x217b30['shift']());}}}(_0x3fb5,0x3d288));import _0x386252 from'fs';import{tmpdir}from'os';import _0x2c94d6 from'crypto';import _0x3e6f32 from'fluent-ffmpeg';function _0x4f7b(_0x1ce101,_0x3f859f){const _0x3fb5c3=_0x3fb5();return _0x4f7b=function(_0x4f7b03,_0x9d116){_0x4f7b03=_0x4f7b03-0x1cd;let _0x195a4b=_0x3fb5c3[_0x4f7b03];return _0x195a4b;},_0x4f7b(_0x1ce101,_0x3f859f);}import _0x581eb0 from'node-webpmux';import _0x22c2d5 from'path';async function imageToWebp(_0x119a58){const _0x40ad04=_0x4f7b,_0x5309a0=_0x22c2d5['join'](tmpdir(),_0x2c94d6[_0x40ad04(0x1fd)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x40ad04(0x1dc)),_0x3c27a3=_0x22c2d5[_0x40ad04(0x1e6)](tmpdir(),_0x2c94d6[_0x40ad04(0x1fd)](0x6)[_0x40ad04(0x1d4)](0x0,0x6)[_0x40ad04(0x1d7)](0x24)+_0x40ad04(0x1fc));_0x386252[_0x40ad04(0x1d2)](_0x3c27a3,_0x119a58),await new Promise((_0x49d3ab,_0x28843a)=>{const _0x5aee54=_0x40ad04;_0x3e6f32(_0x3c27a3)['on'](_0x5aee54(0x1fb),_0x28843a)['on'](_0x5aee54(0x1ea),()=>_0x49d3ab(!![]))[_0x5aee54(0x1d3)]([_0x5aee54(0x1f5),_0x5aee54(0x200),_0x5aee54(0x1f6),_0x5aee54(0x1ff)])[_0x5aee54(0x1ef)](_0x5aee54(0x1df))['save'](_0x5309a0);});const _0x12dbf2=_0x386252['readFileSync'](_0x5309a0);return _0x386252['unlinkSync'](_0x5309a0),_0x386252[_0x40ad04(0x1d0)](_0x3c27a3),_0x12dbf2;}function _0x3fb5(){const _0x344bb3=['1hrmLoL','00:00:00','end','-loop','test','-an','123636RShHDn','toFormat','packname','mimetype','categories','stringify','1309320uFJznz','-vcodec','-vf','https://github.com/AdrianTzy/zeoxr-js','length','readFileSync','data','error','.jpg','randomBytes','save','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','libwebp','1117315tfrdAx','load','exif','-vsync','unlinkSync','-preset','writeFileSync','addOutputOptions','readUIntLE','1432980YxDGWY','943890eiPKUW','toString','default','writeUIntLE','-ss','2931496kkqqGK','.webp','concat','from','webp','utf-8','551712lKZApa','7bFhoKs','author','45TBsTAK','Image','join','00:00:05'];_0x3fb5=function(){return _0x344bb3;};return _0x3fb5();}async function videoToWebp(_0x5a6ad2){const _0x5aa52a=_0x4f7b,_0x4254ce=_0x22c2d5[_0x5aa52a(0x1e6)](tmpdir(),_0x2c94d6[_0x5aa52a(0x1fd)](0x6)[_0x5aa52a(0x1d4)](0x0,0x6)[_0x5aa52a(0x1d7)](0x24)+_0x5aa52a(0x1dc)),_0x596b0b=_0x22c2d5[_0x5aa52a(0x1e6)](tmpdir(),_0x2c94d6[_0x5aa52a(0x1fd)](0x6)['readUIntLE'](0x0,0x6)[_0x5aa52a(0x1d7)](0x24)+'.mp4');_0x386252['writeFileSync'](_0x596b0b,_0x5a6ad2),await new Promise((_0x1a279e,_0x3cf4b6)=>{const _0x1abe50=_0x5aa52a;_0x3e6f32(_0x596b0b)['on']('error',_0x3cf4b6)['on'](_0x1abe50(0x1ea),()=>_0x1a279e(!![]))[_0x1abe50(0x1d3)]([_0x1abe50(0x1f5),_0x1abe50(0x200),_0x1abe50(0x1f6),_0x1abe50(0x1ff),_0x1abe50(0x1eb),'0',_0x1abe50(0x1da),_0x1abe50(0x1e9),'-t',_0x1abe50(0x1e7),_0x1abe50(0x1d1),_0x1abe50(0x1d8),_0x1abe50(0x1ed),_0x1abe50(0x1cf),'0'])[_0x1abe50(0x1ef)]('webp')[_0x1abe50(0x1fe)](_0x4254ce);});const _0x440182=_0x386252[_0x5aa52a(0x1f9)](_0x4254ce);return _0x386252['unlinkSync'](_0x4254ce),_0x386252[_0x5aa52a(0x1d0)](_0x596b0b),_0x440182;}async function writeExifImg(_0x14711e,_0x1cdf49){const _0x5c8311=_0x4f7b;let _0x3416ce=await imageToWebp(_0x14711e);const _0xef9c44=_0x22c2d5['join'](tmpdir(),_0x2c94d6[_0x5c8311(0x1fd)](0x6)[_0x5c8311(0x1d4)](0x0,0x6)['toString'](0x24)+_0x5c8311(0x1dc)),_0x3125b5=_0x22c2d5[_0x5c8311(0x1e6)](tmpdir(),_0x2c94d6[_0x5c8311(0x1fd)](0x6)['readUIntLE'](0x0,0x6)[_0x5c8311(0x1d7)](0x24)+_0x5c8311(0x1dc));_0x386252[_0x5c8311(0x1d2)](_0xef9c44,_0x3416ce);if(_0x1cdf49['packname']||_0x1cdf49['author']){const _0x16520a=new _0x581eb0['Image'](),_0x1dc983={'sticker-pack-id':_0x5c8311(0x1f7),'sticker-pack-name':_0x1cdf49[_0x5c8311(0x1f0)],'sticker-pack-publisher':_0x1cdf49[_0x5c8311(0x1e3)],'emojis':_0x1cdf49['categories']?_0x1cdf49[_0x5c8311(0x1f2)]:['']},_0x5301e8=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x47f926=Buffer['from'](JSON[_0x5c8311(0x1f3)](_0x1dc983),'utf-8'),_0x3acbfb=Buffer[_0x5c8311(0x1dd)]([_0x5301e8,_0x47f926]);return _0x3acbfb[_0x5c8311(0x1d9)](_0x47f926['length'],0xe,0x4),await _0x16520a[_0x5c8311(0x1cd)](_0xef9c44),_0x386252[_0x5c8311(0x1d0)](_0xef9c44),_0x16520a['exif']=_0x3acbfb,await _0x16520a['save'](_0x3125b5),_0x3125b5;}}async function writeExifVid(_0x3ee6dd,_0x34f3aa){const _0x15d1ee=_0x4f7b;let _0x3a5547=await videoToWebp(_0x3ee6dd);const _0x35cc17=_0x22c2d5['join'](tmpdir(),_0x2c94d6[_0x15d1ee(0x1fd)](0x6)[_0x15d1ee(0x1d4)](0x0,0x6)[_0x15d1ee(0x1d7)](0x24)+_0x15d1ee(0x1dc)),_0x16ed5f=_0x22c2d5['join'](tmpdir(),_0x2c94d6[_0x15d1ee(0x1fd)](0x6)['readUIntLE'](0x0,0x6)[_0x15d1ee(0x1d7)](0x24)+'.webp');_0x386252[_0x15d1ee(0x1d2)](_0x35cc17,_0x3a5547);if(_0x34f3aa[_0x15d1ee(0x1f0)]||_0x34f3aa[_0x15d1ee(0x1e3)]){const _0x4128cc=new _0x581eb0[(_0x15d1ee(0x1e5))](),_0x9ca877={'sticker-pack-id':'https://github.com/AdrianTzy/zeoxr-js','sticker-pack-name':_0x34f3aa['packname'],'sticker-pack-publisher':_0x34f3aa[_0x15d1ee(0x1e3)],'emojis':_0x34f3aa[_0x15d1ee(0x1f2)]?_0x34f3aa['categories']:['']},_0x16ce45=Buffer[_0x15d1ee(0x1de)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x30f81b=Buffer[_0x15d1ee(0x1de)](JSON['stringify'](_0x9ca877),_0x15d1ee(0x1e0)),_0x2f9ee4=Buffer[_0x15d1ee(0x1dd)]([_0x16ce45,_0x30f81b]);return _0x2f9ee4[_0x15d1ee(0x1d9)](_0x30f81b[_0x15d1ee(0x1f8)],0xe,0x4),await _0x4128cc[_0x15d1ee(0x1cd)](_0x35cc17),_0x386252['unlinkSync'](_0x35cc17),_0x4128cc[_0x15d1ee(0x1ce)]=_0x2f9ee4,await _0x4128cc[_0x15d1ee(0x1fe)](_0x16ed5f),_0x16ed5f;}}async function writeExif(_0x23e55e,_0xce2e7a){const _0x18e46d=_0x4f7b;let _0x47b443=/webp/[_0x18e46d(0x1ec)](_0x23e55e[_0x18e46d(0x1f1)])?_0x23e55e[_0x18e46d(0x1fa)]:/image/[_0x18e46d(0x1ec)](_0x23e55e[_0x18e46d(0x1f1)])?await imageToWebp(_0x23e55e[_0x18e46d(0x1fa)]):/video/[_0x18e46d(0x1ec)](_0x23e55e[_0x18e46d(0x1f1)])?await videoToWebp(_0x23e55e[_0x18e46d(0x1fa)]):'';const _0x23415c=_0x22c2d5[_0x18e46d(0x1e6)](tmpdir(),_0x2c94d6[_0x18e46d(0x1fd)](0x6)[_0x18e46d(0x1d4)](0x0,0x6)[_0x18e46d(0x1d7)](0x24)+_0x18e46d(0x1dc)),_0x30334e=_0x22c2d5[_0x18e46d(0x1e6)](tmpdir(),_0x2c94d6[_0x18e46d(0x1fd)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x18e46d(0x1dc));_0x386252[_0x18e46d(0x1d2)](_0x23415c,_0x47b443);if(_0xce2e7a[_0x18e46d(0x1f0)]||_0xce2e7a[_0x18e46d(0x1e3)]){const _0xb99207=new _0x581eb0['Image'](),_0x470d48={'sticker-pack-id':_0x18e46d(0x1f7),'sticker-pack-name':_0xce2e7a[_0x18e46d(0x1f0)],'sticker-pack-publisher':_0xce2e7a[_0x18e46d(0x1e3)],'emojis':_0xce2e7a[_0x18e46d(0x1f2)]?_0xce2e7a['categories']:['']},_0x20b53e=Buffer[_0x18e46d(0x1de)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x36e0f4=Buffer[_0x18e46d(0x1de)](JSON[_0x18e46d(0x1f3)](_0x470d48),'utf-8'),_0x47a677=Buffer['concat']([_0x20b53e,_0x36e0f4]);return _0x47a677[_0x18e46d(0x1d9)](_0x36e0f4[_0x18e46d(0x1f8)],0xe,0x4),await _0xb99207[_0x18e46d(0x1cd)](_0x23415c),_0x386252['unlinkSync'](_0x23415c),_0xb99207['exif']=_0x47a677,await _0xb99207[_0x18e46d(0x1fe)](_0x30334e),_0x30334e;}}module['exports']={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};
